<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Cost Calculator Interface" />
    <meta name="author" content="Sergio Duran" />

    <title>Cost Calculator Interface</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/pretty-print-json@0.0/dist/pretty-print-json.css"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.3/litera/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-JuAGGg3c8UPrWdf0N8ZPJyOHkACruI9+mbl0C+H6XSYOqv9xIdiUSKehRyA8jUol"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/assets/bs-callouts.css" />

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/pretty-print-json@0.0/dist/pretty-print-json.min.js"></script>
    <script src="/assets/cocain.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-sm">
          <h1>Cost Calculator Interface</h1>
          This app can calculate the costs for a project, how many products you
          can make, and how many resources you need to buy. It can automatically
          fill in the amounts if needed.<br />
          For example, you can use it to calculate:<br />
          <ul>
            <li>
              How much it would cost to
              <a class="loadJSON"
                href="https://raw.githubusercontent.com/Sheco/cocain/master/samples/chocomilk.json"
                >make 60 glasses of chocolate milk</a
              >, and how much milk and chocolate you would need.
            </li>
            <li>
              How much it would cost to
              <a class="loadJSON"
                href="https://raw.githubusercontent.com/Sheco/cocain/master/samples/chocomilk5liters.json"
                >make as many glasses of chocolate milk as possible, using only
                5 liters of milk</a
              >, and how much chocolate you need.
            </li>
          </ul>
        </div>
      </div>

      <div class="card-deck mb-2">
        <div class="card mb-4 box-shadow">
          <div class="card-header">Enter the JSON code</div>
          <div class="card-body" style="padding-top: 0px">
            <div class="bs-callout bs-callout-primary">
              <p>
                You need to use valid JSON code, the syntax is simple but writing it
                can be a little daunting at first, you can use a JSON linter to
                validate the code, for example:
                <a href="https://jsonlint.com/" target="_blank"
                  >https://jsonlint.com/</a
                >
              </p>

              <div class="form-group">
                <textarea
                  name="src"
                  id="src"
                  class="form-control"
                  rows="15"
                  cols="40"
                ></textarea>
              </div>
              <button class="btn btn-block btn-primary" onclick="calculate()">
                Calculate
              </button>
              <br />
            </div>

            <div class="bs-callout bs-callout-success">
              <p>
                This way you can upload a simple CSV and have it converted to
                JSON and then calculated.
              </p>
              
              <p>
                You can use the
                <a
                  target="_blank"
                  href="https://github.com/Sheco/cocain/blob/master/samples/candies.csv"
                  >sample CSV</a
                >
                for reference, or check the documentation in the project's
                github page.
              </p>
              <div class="form-group">
                <label for="csv">Select one or more CSV files:</label>
                <input
                  class="form-control-file"
                  type="file"
                  name="csv"
                  id="csv"
                  aria-describedby="csvHelp"
                  multiple
                />
              </div>

              <small class="form-text text-muted" id="csvHelp">
              </small>
              <button
                class="btn btn-block btn-success"
                onclick="convertCsv()"
              >
                Convert and calculate
              </button>
            </div>
          </div>
        </div>

        <div class="card mb-4 box-shadow">
          <div class="card-header">Result</div>

          <div class="card-body">
            <div class="progress" id="progress" style="display: none">
              <div
                class="progress-bar progress-bar-striped progress-bar-animated"
                role="progressbar"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
                style="width: 100%"
              ></div>
            </div>
            <pre id="result"></pre>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm">
          <p>
            We have some other samples in
            <a href="https://github.com/Sheco/cocain/tree/master/samples"
              >https://github.com/Sheco/cocain/tree/master/samples</a
            >, it's worth mentioning that the prices there are in Mexican
            pesos.<br />
          </p>

          <p>
            The source code is available at
            <a href="https://github.com/Sheco/cocain"
              >https://github.com/Sheco/cocain</a
            >
            There you will find this app's documentation.
          </p>

          <p>Written by Sergio Duran.</p>
        </div>
      </div>
    </div>
  </body>
</html>
